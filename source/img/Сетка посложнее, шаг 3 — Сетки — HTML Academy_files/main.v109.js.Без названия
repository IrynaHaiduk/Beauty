/*! For license information please see main.js.LICENSE.txt */
!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=610)}({1:function(e,t,n){"use strict";e.exports=n(59)},11:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(o){"object"===("undefined"==typeof window?"undefined":n(window))&&(i=window)}e.exports=i},12:function(e,t,n){(function(i){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.log=function(){var e;return"object"===("undefined"==typeof console?"undefined":o(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(n){}!e&&void 0!==i&&"env"in i&&(e=i.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(65)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n(4))},17:function(e,t,n){"use strict";var i=null,o=function(){if(!i)try{var e=document.querySelector("meta[name=csrf-token]");i=e.getAttribute("content")}catch(t){i="invalid"}return i};t.get=o,t.append=function(e){if(o()){var t="?";return e.indexOf("?")>-1&&(t="&"),[e,"token="+o()].join(t)}return e}},2:function(e,t,n){"use strict";var i=Array.prototype.slice,o=function(e){return"<code>".concat((""+e).replace("<","&lt;"),"</code>")};e.exports=function(e){var t=i.call(arguments,1);return"string"!=typeof e&&(e=""+e),e.replace(/`\$(\d+)`/g,(function(e,n){var i=t[+n-1];return void 0===i?e:o(i)})).replace(/\$(\d+)/g,(function(e,n){var i=t[+n-1];return void 0===i?e:i}))}},266:function(e,t,n){"use strict";e.exports=["html","css","js","svg","less","php"]},27:function(e,t,n){"use strict";e.exports=function(e){var t=null;if(e)try{t=function(e){return e.contentDocument||e.contentWindow.document}(e)}catch(n){}return t}},274:function(e,t,n){"use strict";e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.isFirstRun&&(t.isFirstRun=!1),t.skipMethods&&"all"!==t.skipMethods&&t.skipMethods.indexOf(e.name)}},28:function(e,t,n){"use strict";e.exports=function(){return document.querySelector(".js--preview-document")}},362:function(e,t,n){"use strict";var i=function(e){e.emulated=!0};e.exports=function(e){var t=e.defaultView,n=[];return{click:function(n){!function(n,o){var r=e.querySelector(o),s=new MouseEvent("click",{cancelable:!0,bubbles:!0,view:t});if(i(s),r){var a=!r.dispatchEvent(s);n.addEventResult({type:"click",found:!0,cancelled:a})}else n.addEventResult({type:"click",found:!1})}(this,n)},keydown:function(t){!function(t,n){var o=new KeyboardEvent("keydown","number"==typeof n?{keyCode:n}:n);i(o),e.dispatchEvent(o),t.addEventResult({type:"keydown",key:n})}(this,t)},addEventResult:function(e){n.push(e)},getResults:function(){return n}}}},363:function(e,t,n){"use strict";e.exports=function(){var e=null;try{e=window.localStorage}catch(t){}return e}},364:function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e,t){var n=e;return t.split(".").some((function(e){return null==(n="object"===i(n)?n[e]:null)})),n}},381:function(e,t,n){"use strict";e.exports=function(){var e={register:function(e,t){this.__objects[e]=t},get:function(e){return this.__objects[e]},getter:function(e){return this.get.bind(this,e)},_initialize:function(){this.__objects={}}};return e._initialize(),e}},382:function(e,t,n){"use strict";var i=Array.prototype.slice,o=n(12),r=o("emit");o("emit:error");e.exports=function(){var e={emit:function(e){var t=i.call(arguments,1),n=this.callbacks[e]||[];return r("%s: %o",e,t),n.forEach((function(e){e.callback.apply(e.context,t)})),this},on:function(e,t,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push({callback:t,context:n}),this},_initialize:function(){this.callbacks={},this.emit=this.emit.bind(this)}};return e._initialize(),e}},383:function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(384),a=n(362),u=n(1).timeout.typeInterval,c=u<10;e.exports=function(){var e=HtmlacademyTask.i18n("wrappers.answes"),t={editors:null,ui:null,linkProperties:function(e){this.editors=e.get("wrapper.editors"),this.ui=e.get("model.ui")},visitEventDispatcher:function(e){e.on("answers.show",this.show,this),e.on("console.got.message",this._consoleGotMessage,this),e.on("console.run-out",this._consoleRunOut,this),e.on("preview.updated",this._storePreview,this),this._emit=e.emit},setAnswers:function(e){this.answers=e},_getAceEditorMovie:function(){return s},show:function(){var e=this.ui;e.answering?this.runningMovie&&this.runningMovie.abort((function(){e.setAnswering(!1)})):this._show()},_show:function(){var t=this.answers,n=this._getAceEditorMovie();!t||!Array.isArray(t)||t.length<1?console.warn(e.no_answers):"function"==typeof n?this.ui.answering||this.startAnswersPlay():console.warn(e.no_movie)},_dropWaiting:function(){this.consoleHasMessages=!1,this.waitingForConsole=!1},_waitForNextAnswer:function(){this.consoleHasMessages?this.waitingForConsole=!0:(this._dropWaiting(),this._switchToNextAnswer())},_consoleRunOut:function(){this.consoleHasMessages=!1,this.waitingForConsole&&(this._dropWaiting(),this._switchToNextAnswer())},_switchToNextAnswer:function(){this.goalIndex===this.answers.length-1?(this._emit("task.answered"),this.ui.setAnswering(!1)):(this.goalIndex+=1,this.runCurrentAnswer())},_consoleGotMessage:function(){this.consoleHasMessages=!0},_storePreview:function(e){e&&(this.preview=e)},startAnswersPlay:function(){this.goalIndex=0,this._dropWaiting(),this._emit("editors.reset",!0),this._emit("run.reload"),this.ui.setAnswering(!0),this.runCurrentAnswer()},runCurrentAnswer:function(){var e=this,t=this.createMovie(this.answers[this.goalIndex]),n=this.answers[this.goalIndex],i=function(e){var t=e.editor.textInput.getElement().closest(".ace_editor").getAttribute("id");return t.slice(0,t.lastIndexOf("-"))}(t),s=function(e){return e.editor.textInput.getElement().closest(".ace_editor").dataset.tab}(t);this._emit("editors.select",i,s),this.runningMovie=t,t.start((function(i){return e.onMovieFinished(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({answer:n,movie:t},i))}))},onMovieFinished:function(e){var t=e.answer,n=e.movie,i=e.aborted,o=function(e){var t=e.actions,n=!1;return t.some((function(e){var t=e.data;switch(e.name){case"add":""!==t.to&&(n=!0);break;case"replace":t.to!==t.from&&(n=!0);break;default:n=!0}return n})),n}(n);this._emit("movie.finished",{changes:o}),t.events&&this.preview&&this._playEvents(t.events),t.autoAccept&&this._emit("goal.answered",this.goalIndex+1),i?this.ui.setAnswering(!1):this._waitForNextAnswer()},createMovie:function(e){var t=this._getAceEditorMovie(),n=t.AceAdapter,o=e.editor,r=e.data,s=e.showInterval||2e3,a=this.editors.getAceEditor(o),l="number"==typeof e.codeTypeInterval?e.codeTypeInterval:u;c&&(l=u);var d=new t(new n(a),{runInterval:s,codeTypeInterval:l});return"object"===i(r)?d.setData(r):"function"==typeof r&&d.addActions(r),d},_playEvents:function(e){var t=a(this.preview);e.call(t)},_initialize:function(){this.onMovieFinished=this.onMovieFinished.bind(this)},_emit:function(){}};return t._initialize(),t}},384:function(e,t,n){var i=n(385);e.exports=i,i.AceAdapter=n(393)},385:function(e,t,n){"use strict";(function(t){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=n(274),r=n(386),s=n(387),a=n(388),u=n(389),c=n(390),l=n(392),d={actionRunInterval:300},f=function(e){return e?"string"==typeof e?e:e.text:null},h=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=(n=n||d).runInterval;this.logConfig={isFirstRun:!0,startDate:new Date,skipMethods:["all"]},this.codeTypeInterval=130,"number"==typeof n.codeTypeInterval&&(this.codeTypeInterval=n.codeTypeInterval),this.timeout=n.timeout,this.sameLineActionBooster=10,this.actionRunInterval=i,this.adapter=t,this.editor=t.editor,this.actions=[],this.typeCodeAsync=this.typeCodeAsync.bind(this),this.motions={},this.addMotion("add",s),this.addMotion("replace",a),this.addMotion("delete",u),this.addMotion("addLine",c),this.addMotion("indent",l)}var n,h,p;return n=e,(h=[{key:"setData",value:function(e){this.log({name:"setData",args:{data:e}}),this.adapter.setTooltipText(e.tooltip),Array.isArray(e.actions)||(e.actions=[e.actions]),e.actions.forEach((function(t){t.tooltip=t.tooltip||e.tooltip,this.addAction(t)}),this)}},{key:"addActions",value:function(e){var t=new r;e.call(t),this.setData(t.getData())}},{key:"addAction",value:function(e){return this.log({name:"addAction",args:{data:e}}),this.actions.push({name:e.action,data:e}),this}},{key:"start",value:function(e){var t=this.adapter,n=this;this.log({name:"start",args:{callback:e}}),t.onMovie("start");var i=0;!function o(){var r=n.actions[i];if(r){var s=function(e,n){var i=e.actions[n],o=e.actions[n+1];if(i&&!o)return 1;if(o&&!i)return 1;var r,s,a=t.getCursorPosition(i.data),u=t.getCursorPosition(o.data);return r=i.data.tooltip,s=o.data.tooltip,f(r)!==f(s)?2:function(e,t){return e.row===t.row}(a,u)?0:3},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;n.timeout=setTimeout((function(){i++,n.alignEditorViewport(),o()}),e)},u=function(){var e=s(n,i);1===e||2===e?n.adapter.hideTooltip(a):3===e?a(1e3):a()},c=s(n,i-1);0!==c?1===c||2===c?n.adapter.showTooltip(r,1e3,(function(){n.motions[r.name](r.data,u)})):(n.adapter.moveTooltip(r),n.motions[r.name](r.data,u)):n.motions[r.name](r.data,u)}else n.stop((function(){return e({aborted:n.aborting})}))}()}},{key:"stop",value:function(e){this.log({name:"stop",args:null}),this.adapter.onMovie("stop"),this.adapter.hideTooltip(e)}},{key:"abort",value:function(e){var t=this,n=this.adapter;this.log({name:"abort",args:null}),t.timeout&&clearTimeout(t.timeout),t.aborting=!0,t.onStopTyping=function(){t.aborting=!1,n.onMovie("stop"),n.hideTooltip(e)}}},{key:"alignEditorViewport",value:function(){this.adapter.alignViewport()}},{key:"addMotion",value:function(e,t){var n=this;this.motions[e]=function(e,i){t(n,e,i)}}},{key:"typeCodeAsync",value:function(e,t){this.log({name:"typeCodeAsync",args:{code:e,next:t}});var n=e.split(""),i=this.adapter,o=this.codeTypeInterval,r=this,s=function(){r.aborting?r.onStopTyping():a(n.shift())},a=function(e){e?(i.insert(e),setTimeout(s,o)):"function"==typeof t&&t()};s()}},{key:"log",value:function(e){t.isAceEditorMovieLog&&o(e,this.logConfig)}}])&&i(n.prototype,h),p&&i(n,p),e}();e.exports=h}).call(this,n(11))},386:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data={actions:[]},this.action=null}var t,n,o;return t=e,(n=[{key:"tooltip",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n={text:e,delay:t};return this.action?this.action.tooltip=n:this.data.tooltip=n,this}},{key:"at",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.action||this.addAction();return(n.cursorPosition||n.cursorLocation)&&(n=this.addAction()),n.cursorPosition={row:e,column:t},this}},{key:"search",value:function(e,t){var n=this.action||this.addAction();return n.cursorLocation&&(n=this.addAction()),n.cursorLocation={pattern:e,char:t},this}},{key:"next",value:function(){return this.action=null,this}},{key:"addLine",value:function(e){var t=this.action;return t.action="addLine",t.to=e,this}},{key:"add",value:function(e){var t=this.action;return t.action="add",t.to=e,this}},{key:"find",value:function(e){var t=this.action||this.addAction();return t.cursorPosition||(t.cursorLocation={pattern:e,char:-1}),t.action="find",t.from=e,this}},{key:"findLines",value:function(e,t,n){void 0===n&&(n=!1);var i=this.action||this.addAction();return i.cursorPosition||(i.cursorPosition={row:e,column:0}),i.action="find",i.fromRange={start:e,end:t,wholeLines:n},this}},{key:"replace",value:function(e){var t=this.action;return"find"===t.action&&(t.action="replace",t.to=e),this}},{key:"remove",value:function(){var e=this.action;return"find"===e.action&&(e.action="delete"),this}},{key:"indent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.action;return t.cursorPosition&&(t.action="indent",t.times=e),this}},{key:"outdent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.action;return t.cursorPosition&&(t.action="indent",t.times=-e),this}},{key:"getData",value:function(){return this.data}},{key:"addAction",value:function(){var e=this.data.actions,t=this.action={};return e.push(t),t}}])&&i(t.prototype,n),o&&i(t,o),e}();e.exports=o},387:function(e,t,n){"use strict";var i=n(274);e.exports=function(e,t,n){i({name:"motions.add",args:{data:t,next:n}});var o=e.adapter.getCursorPosition(t);e.adapter.moveCursorToPosition(o),e.typeCodeAsync(t.to,n)}},388:function(e,t,n){"use strict";var i=n(274);e.exports=function(e,t,n){i({name:"motions.replace",args:{movie:e,data:t,next:n}});var o=e.adapter,r=o.getCursorPosition(t);return o.moveCursorToPosition(r),o.select(t)?(o.remove(),e.typeCodeAsync(t.to,n),null):n()}},389:function(e,t,n){"use strict";var i=n(274);e.exports=function(e,t,n){var o=e.adapter;i({name:"motions.delete",args:{data:t,next:n}});var r=o.getCursorPosition(t);o.moveCursorToPosition(r),o.select(t),o.remove(),n()}},390:function(e,t,n){"use strict";var i=n(274);n(391),e.exports=function(e,t,n){i({name:"motions.addLine",args:{data:t,next:n}});var o=e.adapter,r=o.getCursorPosition(t),s=r.row,a=r.column,u=" ".repeat(a),c=o.insertMergedLines({row:s-1},["",u]);o.moveCursorToPosition(c),e.typeCodeAsync(t.to,n)}},391:function(e,t,n){"use strict";String.prototype.repeat||(String.prototype.repeat=function(e){if(null===this)throw new TypeError("can't convert "+this+" to object");var t=""+this;if((e=+e)!=e&&(e=0),e<0)throw new RangeError("repeat count must be non-negative");if(e===1/0)throw new RangeError("repeat count must be less than infinity");if(e=Math.floor(e),0===t.length||0===e)return"";if(t.length*e>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");for(var n="";1==(1&e)&&(n+=t),0!==(e>>>=1);)t+=t;return n})},392:function(e,t,n){"use strict";e.exports=function(e,t,n){var i=e.adapter,o=t.times,r=i.getCursorPosition(t);i.moveCursorToPosition(r),(t.from||t.fromRange)&&i.select(t),o>0?i.indent(o):o<0&&i.outdent(-o),n()}},393:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=n(394),r={addLine:-1},s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.init()}var t,n,s;return t=e,(n=[{key:"init",value:function(){this.editor.$blockScrolling=1/0,this._editor_saved_options={}}},{key:"freezeCursor",value:function(e){return this.editor.setReadOnly(e),this}},{key:"onMovie",value:function(e){switch(e){case"start":this.freezeCursor(!0).disableAutocloseTag();break;case"stop":this.freezeCursor(!1).restoreAutocloseTag()}}},{key:"disableAutocloseTag",value:function(){if(!this.saved){var e=this.editor.getSession().getMode().$behaviour;this._editor_saved_options.autoclosing=e.$behaviours.autoclosing,e.remove("autoclosing"),this.saved=!0}return this}},{key:"restoreAutocloseTag",value:function(){if(this.saved){var e=this.editor.getSession().getMode().$behaviour,t=this._editor_saved_options.autoclosing;t&&(e.$behaviours.autoclosing=t),this.saved=!1}return this}},{key:"getTooltip",value:function(){return this.tooltip||(this.tooltip=new o(this.editor)),this.tooltip}},{key:"alignViewport",value:function(){var e=this.editor,t=e.getCursorPosition().row;e.scrollToLine(t,!0)}},{key:"insert",value:function(e){this.editor.insert(e),"\n"===e&&this.alignViewport()}},{key:"indent",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=0;t<e;t++)this.editor.blockIndent()}},{key:"outdent",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=0;t<e;t++)this.editor.blockOutdent()}},{key:"insertMergedLines",value:function(e,t){return this.editor.getSession().doc.insertMergedLines(e,t)}},{key:"moveCursorToPosition",value:function(e){this.editor.moveCursorToPosition(e),this.alignViewport()}},{key:"select",value:function(e){if("object"!=typeof e.fromRange)return this.find(e.from);var t=e.fromRange,n=t.start,i=t.end;return"number"==typeof n&&"number"==typeof i?(this.selectRange(n,0,i+1,0),!0):("string"==typeof n&&"string"==typeof i&&this.selectLines(e),!1)}},{key:"find",value:function(e){return this.editor.find(e)}},{key:"selectRange",value:function(e,t,n,i){this.editor.gotoLine(e+1,t),this.editor.getSelection().selectTo(n,i)}},{key:"selectLines",value:function(e){for(var t=e.fromRange,n=t.start,i=t.end,o=t.wholeLines,r=this.getCursorPosition(e),s=this.editor.getValue().split("\n"),a=[r.row,r.column],u=a[0],c=a[1],l=[s.length-1,s[s.length-1].length],d=l[0],f=l[1],h=!1,p=r.row;p<s.length;p++){var v=s[p];if(h){if(v.includes(i)){d=p,f=v.indexOf(i)+i.length;break}}else v.includes(n)&&(u=p,c=v.indexOf(n),h=!0)}o&&(c=0,d=Math.min(s.length,d+1),f=0),this.selectRange(u,c,d,f)}},{key:"remove",value:function(){this.editor.remove()}},{key:"setTooltipText",value:function(e){this.tooltipText=e}},{key:"getCursorPosition",value:function(e){var t=e.cursorPosition,n=e.cursorLocation,i=t||{row:0,column:0};if(n){var o=this.editor.getValue().split("\n"),r=n.pattern,s=n.char,a=-1;"number"==typeof s?a=s:("string"==typeof s&&(a=r.indexOf(s)),a>-1?r=r.substring(0,a).concat(r.substring(a+1)):a=r.length);for(var u=i.row;u<o.length;u++)if(o[u].includes(r)){i.row=u,i.column=o[u].indexOf(r)+a;break}}return i}},{key:"showTooltip",value:function(e,t,n){var i=this.getTooltip(),o={row:this.getCursorPosition(e.data).row+(r[e.name]||0)},s=0===t?n:function(){setTimeout(n,t)};i.show({tooltip:e.data.tooltip||this.tooltipText,tooltipPosition:o},s)}},{key:"hideTooltip",value:function(e){this.getTooltip().hide(e)}},{key:"moveTooltip",value:function(e){var t={row:this.getCursorPosition(e.data).row+(r[e.name]||0)};this.getTooltip().change({tooltip:e.data.tooltip||this.tooltipText,tooltipPosition:t})}}])&&i(t.prototype,n),s&&i(t,s),e}();e.exports=s},394:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n(395);var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.theme=t.getTheme(),this.theme&&(this.theme=this.theme.split("/")[2]),this.tooltip=null,this.tooltipContainer=null,this.fadeAwayTime=1e3,this.init()}var t,n,o;return t=e,(n=[{key:"init",value:function(){var e=ace.require("ace/line_widgets").LineWidgets;this.session=this.editor.getSession(),this.session.widgetManager||(this.session.widgetManager=new e(this.session),this.session.widgetManager.attach(this.editor)),this.tooltipContainer=document.createElement("div"),this.tooltipContainer.classList.add("tooltip-answer"),this.theme&&this.tooltipContainer.classList.add("tooltip-answer_theme_"+this.theme),this.runCallback=this.runCallback.bind(this),this.tooltip={row:0,fixedWidth:!0,coverGutter:!1,el:this.tooltipContainer},this.visible=!1}},{key:"show",value:function(e,t){var n=e.tooltip,i=this.tooltip.row=e.tooltipPosition.row,o=this.editor.getFirstVisibleRow(),r=this.editor.getLastVisibleRow(),s=(r-o)/2,a=null;n&&("string"==typeof n?a=n:(a=n.text,this.fadeAwayTime=Math.max(n.delay,1e3))),i>=r?(a+="<br><br><br>",this.editor.scrollToRow(i+s)):i<=o&&this.editor.scrollToRow(i-s),this.tooltipContainer.innerHTML=a,this.session.widgetManager.addLineWidget(this.tooltip),this.tooltipContainer.classList.add("tooltip-answer_visible"),this.visible=!0,t()}},{key:"change",value:function(e){var t=e.tooltipPosition.row;t!==this.tooltip.row&&(this.session.widgetManager.removeLineWidget(this.tooltip),this.tooltip.row=t,this.session.widgetManager.addLineWidget(this.tooltip))}},{key:"hide",value:function(e){var t=this,n=this.tooltipContainer;if(this.callback=e,this.session.on("changeFold",this.runCallback),this.visible){var i=this.fadeAwayTime-1e3,o=this.fadeAwayTime;setTimeout((function(){n.classList.remove("tooltip-answer_visible")}),i),setTimeout((function(){t.session.widgetManager.removeLineWidget(t.tooltip),t.visible=!1}),o)}else this.session.widgetManager.removeLineWidget(this.tooltip)}},{key:"runCallback",value:function(){this.session.off("changeFold",this.runCallback),this.callback()}}])&&i(t.prototype,n),o&&i(t,o),e}();e.exports=o},395:function(e,t,n){var i=n(396),o=n(397);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var r={insert:"head",singleton:!1},s=(i(o,r),o.locals?o.locals:{});e.exports=s},396:function(e,t,n){"use strict";var i,o=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(i){n=null}e[t]=n}return e[t]}}(),s=[];function a(e){for(var t=-1,n=0;n<s.length;n++)if(s[n].identifier===e){t=n;break}return t}function u(e,t){for(var n={},i=[],o=0;o<e.length;o++){var r=e[o],u=t.base?r[0]+t.base:r[0],c=n[u]||0,l="".concat(u," ").concat(c);n[u]=c+1;var d=a(l),f={css:r[1],media:r[2],sourceMap:r[3]};-1!==d?(s[d].references++,s[d].updater(f)):s.push({identifier:l,updater:m(f,t),references:1}),i.push(l)}return i}function c(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var o=n.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var s=r(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var l,d=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function f(e,t,n,i){var o=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=d(t,o);else{var r=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(r,s[t]):e.appendChild(r)}}function h(e,t,n){var i=n.css,o=n.media,r=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),r&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var p=null,v=0;function m(e,t){var n,i,o;if(t.singleton){var r=v++;n=p||(p=c(t)),i=f.bind(null,n,r,!1),o=f.bind(null,n,r,!0)}else n=c(t),i=h.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=u(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var o=a(n[i]);s[o].references--}for(var r=u(e,t),c=0;c<n.length;c++){var l=a(n[c]);0===s[l].references&&(s[l].updater(),s.splice(l,1))}n=r}}}},397:function(e,t,n){(t=n(398)(!1)).push([e.i,".tooltip-answer {\n  padding: 8px 10px;\n  background-color: #f2f2f2;\n\n  opacity: 0;\n\n  transition: opacity 1s;\n}\n\n.tooltip-answer_visible {\n  opacity: 1;\n}\n",""]),e.exports=t},398:function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var o=(s=i,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(u," */")),r=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[n].concat(r).concat([o]).join("\n")}var s,a,u;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(i)for(var r=0;r<this.length;r++){var s=this[r][0];null!=s&&(o[s]=!0)}for(var a=0;a<e.length;a++){var u=[].concat(e[a]);i&&o[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}},399:function(e,t,n){"use strict";e.exports=function(){return{autorun:!0,answering:!1,theoryClosed:!1,splitMode:null,isExpired:!1,isAnsweringTriggered:!1,setExpired:function(e){this.isExpired=e,this._emit("toggle.expired",e)},setAutorun:function(e){this.autorun!==e&&(this.autorun=e,this._emit("toggle.autorun",e),this._emit("key.store","ui.autorun",e))},setAnswering:function(e){e&&(this.isAnsweringTriggered=!0),this.answering!==e&&(this.answering=e,this._emit("toggle.answering",e))},closeTheory:function(){this.theoryClosed||(this.theoryClosed=!0,this._emit("first.theory.close"))},allowToRun:function(){return this.autorun&&!this.answering&&this.theoryClosed},setSplitMode:function(e){this.splitMode===e?this.splitMode=null:this.splitMode=e,this._emit("split.change",this.splitMode)},_emit:function(){},visitEventDispatcher:function(e){this._emit=e.emit,e.on("theory.close",this.closeTheory,this),e.on("unsplit.click",(function(e){this.setSplitMode(e)}),this),e.on("split.click",(function(e){this.setSplitMode(e)}),this),e.on("key.restore",(function(e,t){"ui.autorun"===e&&"boolean"==typeof t&&this.setAutorun(t)}),this),e.on("server-check.expired",(function(e){this.setExpired(e)}),this)}}}},4:function(e,t){var n,i,o=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(e){n=r}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var u,c=[],l=!1,d=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&h())}function h(){if(!l){var e=a(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,l=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},400:function(e,t,n){"use strict";var i=function(e,t,n){return{$el:t,name:e,hide:function(){t.classList.add("hidden"),n("modal-stack.hide",this)},show:function(){t.classList.remove("hidden"),n("modal-stack.show",this,80)},getModalElement:function(){return t.querySelector(".modal__inner")}}};e.exports=function(){return{$modals:{},visitEventDispatcher:function(e){this._emit=e.emit,e.on("modal.show",this._showModal,this),e.on("modal.hide",this._hideModal,this);for(var t,n,o=document.querySelectorAll(".modal"),r=0;r<o.length;r++)n=(t=o[r]).dataset.modalName,this.$modals[n]=i(n,t,e.emit)},_showModal:function(e,t){var n=this.$modals[e];n||(this.$modals[e]=n=i(e,document.querySelector('.modal[data-modal-name="'+e+'"]'),this._emit)),n&&(n.$el.querySelector(".modal__inner").innerHTML=t,n.$el.addEventListener("click",function(e){return function t(n){n.target&&null!==n.target.closest(".modal__close")&&(e.hide(),document.body.classList.remove("show-modal"),e.$el.removeEventListener("click",t))}}(n)),Object.keys(this.$modals).forEach((function(t){var n=this.$modals[t];t===e?n.show():n.hide()}),this),document.body.classList.add("show-modal"))},_hideModal:function(e){this.$modals[e].hide(),Object.keys(this.$modals).forEach((function(e){this.$modals[e].hide()}),this),document.body.classList.remove("show-modal")},_initialize:function(){}}}},401:function(e,t,n){"use strict";e.exports=function(){var e=document.querySelector.bind(document),t={$el:e(".course-nav__item--toggle"),$menu:e(".course-nav__list"),visitEventDispatcher:function(e){this._emit=e.emit},toggle:function(e){this.$menu.classList.contains("course-nav__list--collapsed")?this.show():(this.hide(),e.stopPropagation())},show:function(){this.$menu.classList.remove("course-nav__list--collapsed"),this._emit("modal-stack.show",this,60)},hide:function(){this.$menu.classList.add("course-nav__list--collapsed"),this._emit("modal-stack.hide",this)},getModalElement:function(){return this.$menu},_initialize:function(){this.$el.addEventListener("click",this.toggle.bind(this))},_emit:function(){}};return t.$el&&t.$menu?(t._initialize(),t):null}},402:function(e,t,n){"use strict";e.exports=function(){var e={views:[],visitEventDispatcher:function(e){e.on("modal-stack.show",this._addModal,this),e.on("modal-stack.hide",this._findAndRemoveModal,this),this._emit=e.emit},_focusEditorWhenEmpty:function(){0===this.views.length&&this._emit("focus.editor")},_findAndRemoveModal:function(e){this.views=this.views.filter((function(t){return t.view!==e})),this._focusEditorWhenEmpty()},_hideModal:function(e){var t=this.views.length,n=this.views[t-1];if(n){var i=n.view;e&&e.preventDefault(),i.hide(),this.views.length===t&&this.views.pop(),this._focusEditorWhenEmpty()}},_addModal:function(e,t){var n=e.getModalElement(),i=window.getComputedStyle(n),o=parseInt(i.zIndex,10),r=!1;o||(o=t);for(var s=0;s<this.views.length;++s)if(this.views[s].zIndex>o){this.views.splice(s,0,{view:e,zIndex:o}),r=!0;break}r||this.views.push({view:e,zIndex:o})},_clickModal:function(e){var t=this.views[this.views.length-1],n=e.target;if(t){var i=t.view,o=i.getModalElement();i.$boundaries?i.$boundaries.contains(n)&&!o.contains(n)&&this._hideModal():o.contains(n)||this._hideModal()}},_initialize:function(){document.addEventListener("keydown",(function(t){27===t.keyCode&&e._hideModal(t)})),document.addEventListener("click",(function(t){e._clickModal(t)}))},_emit:function(){}};return e._initialize(),e}},403:function(e,t,n){"use strict";var i=n(27),o=n(28);e.exports=function(){var e=document.querySelector(".js--browser-modal"),t=e&&e.querySelector(".js--browser-modal-heading"),n=t&&t.querySelector(".js--close"),r=document.querySelector(".js--browser-change-heading"),s=r&&r.querySelector(".js--close"),a=e&&e.querySelector(".js--browser-modal-address"),u=null,c=!1,l=!1,d=function(){e&&(e.classList.add("course-browser__modal--active"),setTimeout((function(){var e=i(o());if(e){var t=e.defaultView;e.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation()}),!0),t.addEventListener("keydown",(function(e){e.preventDefault(),e.stopPropagation()}))}}),30),v())},f=function(e){var t=e.href;a.classList.remove("hidden"),a.textContent=t},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.immediatelyCloseModal;e&&(n&&e.classList.add("course-browser__modal--without-transition"),e.classList.remove("course-browser__modal--active"),e.scrollTop,e.classList.remove("course-browser__modal--without-transition"),a&&a.classList.add("hidden"))},p=function(){var t;e&&e.classList.contains("course-browser__modal--active")||(t=m())&&(t.autorun||t.answering)||!l||r.classList.remove("hidden")},v=function(){r.classList.add("hidden")},m=function(){return null},g=function(e,t){c=!1,h(t),v(),e&&e.defaultView&&e.defaultView.addEventListener("unload",(function(){c||d()}))};return(e||r)&&(u={visitEventDispatcher:function(e){e.on("preview.updated",g),e.on("console.call-boss",g),e.on("code.is.dirty",p),e.on("run.reload",(function(){h(),c=!0})),e.on("run.manual",v),e.on("run.auto",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.linkFollowEmulation?d():(h(e),v())})),e.on("browser.follow-link",f),e.on("theory.close",(function(){l=!0})),e.on("console.display.message",(function(e){"show-buttons"===e.type&&v()})),n&&n.addEventListener("click",(function(t){t.preventDefault(),e.emit("run.reload"),e.emit("focus.editor")})),s&&s.addEventListener("click",(function(t){t.preventDefault(),e.emit("run.manual"),e.emit("focus.editor")}))},linkProperties:function(e){m=e.getter("model.ui")}}),u}},404:function(e,t,n){"use strict";var i=n(69)(),o={theme:"default",fontsize:"16px",keybinding:0,highlightselectedword:0,showinvisibles:0,codefolding:0,autoclosetags:0,autoclosebraces:0,autoclosebrackets:0,autocloseparens:0,autoquotes:0};e.exports=function(){var e={_initialize:function(){var e,t,n=document.querySelector(".js--user-settings");if(Object.assign(this,o),n){for(t in e=n.dataset,o)void 0!==e[t]&&(this[t]="number"==typeof o[t]?+e[t]:e[t]);e.userid&&(this.userId=e.userid),e.taskid&&(this.taskId=e.taskid),e.storageKey&&(this.storageKey=e.storageKey),e.codeVersion&&(this.codeVersion=e.codeVersion),e.sessionId&&(this.sessionId=e.sessionId),this.idleStartTime=parseInt(e.idleStartTime,10)}this.task&&this.course||this._getCourseAndTaskFromUrl()},_getCourseAndTaskFromUrl:function(){var e=i.getParams();this.course=+e.courseId||"unknown",this.task=e.taskId},_getStorageKey:function(){return this.storageKey||this._getCalculatedStorageKey()},_getCalculatedStorageKey:function(){var e=[];return this.userId&&e.push("user-"+this.userId),this.taskId?e.push("task-"+this.taskId):e.push("url-"+this.course+"-"+this.task),e.join(".")}};return e._initialize(),e}},405:function(e,t,n){"use strict";var i=n(406),o=n(1);e.exports=function(){var e={updateTimer:null,autosaveTimer:null,visitEventDispatcher:function(e){this.updateTimer.visitEventDispatcher(e),this.autosaveTimer.visitEventDispatcher(e)},_initialize:function(){this.updateTimer=i({handler:function(){this._emit("timer.update")},timeout:o.timeout.updateCode,"timer.update.restart":function(){this.reset()}}),this.autosaveTimer=i({handler:function(){this._emit("timer.autosave")},timeout:o.timeout.autosaveCode,"timer.autosave.restart":function(){this.reset()}})}};return e._initialize(),e}},406:function(e,t,n){"use strict";var i=n(1);e.exports=function(e){var t={handler:null,timeout:null,enabled:!0,timer:null,visitEventDispatcher:function(t){var n,i;for(n in this._emit=t.emit,e)e.hasOwnProperty(n)&&(i=e[n],t.on(n,i,this))},stop:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},start:function(){this.enabled&&(this.timer=setTimeout((function(){t.enabled&&t.handler()}),this.timeout))},reset:function(){this.stop(),this.start()},toggle:function(e){this.enabled=void 0===e?!this.enabled:!!e},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},_initialize:function(){this.handler=e.handler,"function"==typeof this.handler&&delete e.handler,this.timeout=e.timeout||i.timeout.timerDefault,void 0!==this.timeout&&delete e.timeout,void 0!==e.enabled&&(this.enabled=e.enabled,delete e.enabled)},_emit:function(){}};return t._initialize(),t}},407:function(e,t,n){"use strict";var i={"ui.autorun":!0,"ui.goals-collapsed":!1,"ui.maximize-browser":!1,"ui.zoom":100};e.exports=function(e){var t=function(){},n={set:t,get:t,remove:t,setCode:function(e){this.set(this._getCodeKey(),JSON.stringify(e))},resetCode:function(){this.remove(this._getCodeKey())},getCode:function(){var e=this.get(this._getCodeKey()),t=null;try{t=JSON.parse(e)}catch(n){}return t},setKey:function(e){this.key=e},getChallengeIntroFlag:function(){var e=this.get("show-challenge-intro");return void 0===e||e},setChallengeIntroFlag:function(e){this.set("show-challenge-intro",!!e)},visitEventDispatcher:function(e){e.on("key.store",this.set,this),e.on("keys.request",(function(t){n.requested||(n.requested={}),(t||[]).forEach((function(t){var o;if(!n.requested[t]){n.requested[t]=!0;try{o=JSON.parse(this.get(t))}catch(r){}null==o&&(o=i[t]),void 0!==o&&e.emit("key.restore",t,o)}}),this)}),this)},_initialize:function(){this.browserStorage=e,e&&(this.set=function(t,n){try{return e.setItem(t,n),!0}catch(i){return!1}},this.get=e.getItem.bind(e),this.remove=e.removeItem.bind(e))},_getCodeKey:function(){return this.key+"-code"}};return n._initialize(),n}},408:function(e,t,n){"use strict";var i=n(363),o=n(409),r={idle:1,"initial.code":2,"theory.close":3,"theory.open":4,"goal.solved":5,"bonus-goal.solved":6,"task.complete":7,"answering.start":8,"answering.stop":9,"server-check.start":10,"html-css.result-tab":11,"task.unload":12,"preview.updated":13,"server-check.complete":14},s=["scroll","mousemove","touchmove"],a=["mousedown","keydown","keypress","keyup","touchstart","touchend"],u=function(e){return window[e]||(window[e]={},["add","on"].forEach((function(t){window[e][t]=window[e][t]||function e(){e.q||(e.q=[]);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e.q.push(n)}}))),window[e]};e.exports=function(){var e={linkProperties:function(e){this._getUserSettings=e.getter("wrapper.settings"),this._getUI=e.getter("model.ui"),this._getCode=e.getter("model.code")},visitEventDispatcher:function(t){var n=function(n,i){t.on(n,(function(){this._keep(i,arguments)}),e)};n("setup.finished",(function(){this._initialize()&&(n("code.update",(function(){if(!this._codeUpdated){this._codeUpdated=!0;var e=this._getCode().asJSON();this._logEvent("initial.code"),this._diffKeeper.reset(e)}})),n("theory.close",(function(){this._logEvent("theory.close")})),n("theory.open",(function(){this._logEvent("theory.open")})),n("goal.status.changed",(function(e){e.isSolved()&&this._logEvent("goal.solved",{goal_id:e.orderId})})),n("bonus-goal.status.changed",(function(e){e.isSolved()&&this._logEvent("bonus-goal.solved")})),n("task.complete",(function(){this._logEvent("task.complete")})),n("toggle.answering",(function(e){this._answeringNow=e,e?this._logEvent("answering.start"):this._logEvent("answering.stop")})),n("server-check.start",(function(){this._logEvent("server-check.start")})),n("server-check.complete",(function(e){var t={};e.constructor.name.endsWith("Error")?(t.result="error",t.message=e.message):e.timeout?(t.result="timeout",t.timeout=!0):(t.result="done",t=Object.assign(t,e)),this._logEvent("server-check.complete",t)})),n("html-css.result-tab",(function(e){this._logEvent("html-css.result-tab",{mode:e})})),n("preview.updated",(function(){var e=this._getCode().asJSON(),t=this._diffKeeper.diff(e);this._setListenersOnFrame(),Object.keys(t).length>0&&(this._diffKeeper.reset(e),this._logEvent("preview.updated"))})))}))},_initialize:function(){var e=this,t=this._getUserSettings();return this._taskId=Number.parseInt(t.taskId,10),this._sessionId=t.sessionId,!(!this._taskId||!this._sessionId)&&(u("haStats").on("unload",(function(){e._keep((function(){e._logEvent("task.unload")}))})),this._idleStartMinTime=t.idleStartTime?t.idleStartTime:1e4,this._diffKeeper=o(),this._storage=i(),this._answeringNow=!1,this._idleTime=0,this._wasIdleFor=0,this._idleEndTime=null,this._endIdle=this._endIdle.bind(this),this._codeUpdated=!1,this._eventLog=[],setInterval((function(){e._sendingNow||e._answeringNow?e._idleTime=0:e._idleTime+=1e3}),1e3),this._setListenersOnDocument(document),this._setListenersOnFrame(),!0)},_endIdle:function(){var e=this._idleTime;this._idleTime=0,e>=this._idleStartMinTime&&(this._wasIdleFor+=e,this._idleEndTime=Date.now())},_keep:function(t,n){this._endIdle(),this._wasIdleFor&&(this._logEvent("idle",{duration:Math.floor(this._wasIdleFor/1e3)},{defer:!0}),this._wasIdleFor=0),t.apply(e,n)},_logEvent:function(e,t,n){var i={type:"COURSE_TASK",eventTime:Date.now(),task_event_type:r[e],task_id:this._taskId,session_id:this._sessionId};t&&(i.data=t),u("haStats").add(i,n)},_setListenersOnDocument:function(e){var t=this;s.forEach((function(n){var i,o,r;e.addEventListener(n,(i=t._endIdle,o=1e3,function(){if(!r){var e=Array.prototype.slice.call(arguments);r=setTimeout((function(){i.apply(void 0,e),r=null}),o)}}))})),a.forEach((function(n){e.addEventListener(n,t._endIdle)}))},_setListenersOnFrame:function(){var e=function(){var e,t=document.querySelector(".js--preview-document");try{e=t.contentDocument||t.contentWindow.document}catch(n){}return e}();e&&this._setListenersOnDocument(e)}};return e}},409:function(e,t,n){"use strict";var i=n(410).createPatch;e.exports=function(){var e={};return{reset:function(t){e=t},diff:function(t){var n={};return Object.keys(e).forEach((function(o){t[o]!==e[o]&&(n[o]=i(o,e[o],t[o]))})),n}}}},410:function(e,t,n){var i,o,r,s;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}s=function(e){"use strict";function t(){}function n(e,t,n,i,o){for(var r=0,s=t.length,a=0,u=0;r<s;r++){var c=t[r];if(c.removed){if(c.value=e.join(i.slice(u,u+c.count)),u+=c.count,r&&t[r-1].added){var l=t[r-1];t[r-1]=t[r],t[r]=l}}else{if(!c.added&&o){var d=n.slice(a,a+c.count);d=d.map((function(e,t){var n=i[u+t];return n.length>e.length?n:e})),c.value=e.join(d)}else c.value=e.join(n.slice(a,a+c.count));a+=c.count,c.added||(u+=c.count)}}var f=t[s-1];return s>1&&"string"==typeof f.value&&(f.added||f.removed)&&e.equals("",f.value)&&(t[s-2].value+=f.value,t.pop()),t}function i(e){return{newPos:e.newPos,components:e.components.slice(0)}}t.prototype={diff:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o.callback;"function"==typeof o&&(r=o,o={}),this.options=o;var s=this;function a(e){return r?(setTimeout((function(){r(void 0,e)}),0),!0):e}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e));var u=(t=this.removeEmpty(this.tokenize(t))).length,c=e.length,l=1,d=u+c,f=[{newPos:-1,components:[]}],h=this.extractCommon(f[0],t,e,0);if(f[0].newPos+1>=u&&h+1>=c)return a([{value:this.join(t),count:t.length}]);function p(){for(var o=-1*l;o<=l;o+=2){var r=void 0,d=f[o-1],h=f[o+1],p=(h?h.newPos:0)-o;d&&(f[o-1]=void 0);var v=d&&d.newPos+1<u,m=h&&0<=p&&p<c;if(v||m){if(!v||m&&d.newPos<h.newPos?(r=i(h),s.pushComponent(r.components,void 0,!0)):((r=d).newPos++,s.pushComponent(r.components,!0,void 0)),p=s.extractCommon(r,t,e,o),r.newPos+1>=u&&p+1>=c)return a(n(s,r.components,t,e,s.useLongestToken));f[o]=r}else f[o]=void 0}l++}if(r)!function e(){setTimeout((function(){if(l>d)return r();p()||e()}),0)}();else for(;l<=d;){var v=p();if(v)return v}},pushComponent:function(e,t,n){var i=e[e.length-1];i&&i.added===t&&i.removed===n?e[e.length-1]={count:i.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,i){for(var o=t.length,r=n.length,s=e.newPos,a=s-i,u=0;s+1<o&&a+1<r&&this.equals(t[s+1],n[a+1]);)s++,a++,u++;return u&&e.components.push({count:u}),e.newPos=s,a},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};var o=new t;function r(e,t){if("function"==typeof e)t.callback=e;else if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var s=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,u=/\S/,c=new t;c.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!u.test(e)&&!u.test(t)},c.tokenize=function(e){for(var t=e.split(/(\s+|[()[\]{}'"]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&s.test(t[n])&&s.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};var l=new t;function d(e,t,n){return l.diff(e,t,n)}l.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var i=0;i<n.length;i++){var o=n[i];i%2&&!this.options.newlineIsToken?t[t.length-1]+=o:(this.options.ignoreWhitespace&&(o=o.trim()),t.push(o))}return t};var f=new t;f.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var h=new t;function p(e){return(p="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a(e)})(e)}function v(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}h.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};var m=Object.prototype.toString,g=new t;function y(e,t,n,i,o){var r,s;for(t=t||[],n=n||[],i&&(e=i(o,e)),r=0;r<t.length;r+=1)if(t[r]===e)return n[r];if("[object Array]"===m.call(e)){for(t.push(e),s=new Array(e.length),n.push(s),r=0;r<e.length;r+=1)s[r]=y(e[r],t,n,i,o);return t.pop(),n.pop(),s}if(e&&e.toJSON&&(e=e.toJSON()),"object"===p(e)&&null!==e){t.push(e),s={},n.push(s);var a,u=[];for(a in e)e.hasOwnProperty(a)&&u.push(a);for(u.sort(),r=0;r<u.length;r+=1)s[a=u[r]]=y(e[a],t,n,i,a);t.pop(),n.pop()}else s=e;return s}g.useLongestToken=!0,g.tokenize=l.tokenize,g.castInput=function(e){var t=this.options,n=t.undefinedReplacement,i=t.stringifyReplacer,o=void 0===i?function(e,t){return void 0===t?n:t}:i;return"string"==typeof e?e:JSON.stringify(y(e,null,null,o),o,"  ")},g.equals=function(e,n){return t.prototype.equals.call(g,e.replace(/,([\r\n])/g,"$1"),n.replace(/,([\r\n])/g,"$1"))};var w=new t;function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.split(/\r\n|[\n\v\f\r\x85]/),i=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],o=[],r=0;function s(){var e={};for(o.push(e);r<n.length;){var i=n[r];if(/^(\-\-\-|\+\+\+|@@)\s/.test(i))break;var s=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(i);s&&(e.index=s[1]),r++}for(a(e),a(e),e.hunks=[];r<n.length;){var c=n[r];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(c))break;if(/^@@/.test(c))e.hunks.push(u());else{if(c&&t.strict)throw new Error("Unknown line "+(r+1)+" "+JSON.stringify(c));r++}}}function a(e){var t=/^(---|\+\+\+)\s+(.*)$/.exec(n[r]);if(t){var i="---"===t[1]?"old":"new",o=t[2].split("\t",2),s=o[0].replace(/\\\\/g,"\\");/^".*"$/.test(s)&&(s=s.substr(1,s.length-2)),e[i+"FileName"]=s,e[i+"Header"]=(o[1]||"").trim(),r++}}function u(){for(var e=r,o=n[r++].split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),s={oldStart:+o[1],oldLines:+o[2]||1,newStart:+o[3],newLines:+o[4]||1,lines:[],linedelimiters:[]},a=0,u=0;r<n.length&&!(0===n[r].indexOf("--- ")&&r+2<n.length&&0===n[r+1].indexOf("+++ ")&&0===n[r+2].indexOf("@@"));r++){var c=0==n[r].length&&r!=n.length-1?" ":n[r][0];if("+"!==c&&"-"!==c&&" "!==c&&"\\"!==c)break;s.lines.push(n[r]),s.linedelimiters.push(i[r]||"\n"),"+"===c?a++:"-"===c?u++:" "===c&&(a++,u++)}if(a||1!==s.newLines||(s.newLines=0),u||1!==s.oldLines||(s.oldLines=0),t.strict){if(a!==s.newLines)throw new Error("Added line count did not match for hunk at line "+(e+1));if(u!==s.oldLines)throw new Error("Removed line count did not match for hunk at line "+(e+1))}return s}for(;r<n.length;)s();return o}function b(e,t,n){var i=!0,o=!1,r=!1,s=1;return function a(){if(i&&!r){if(o?s++:i=!1,e+s<=n)return s;r=!0}if(!o)return r||(i=!0),t<=e-s?-s++:(o=!0,a())}}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof t&&(t=_(t)),Array.isArray(t)){if(t.length>1)throw new Error("applyPatch only works with a single input.");t=t[0]}var i,o,r=e.split(/\r\n|[\n\v\f\r\x85]/),s=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],a=t.hunks,u=n.compareLine||function(e,t,n,i){return t===i},c=0,l=n.fuzzFactor||0,d=0,f=0;function h(e,t){for(var n=0;n<e.lines.length;n++){var i=e.lines[n],o=i.length>0?i[0]:" ",s=i.length>0?i.substr(1):i;if(" "===o||"-"===o){if(!u(t+1,r[t],o,s)&&++c>l)return!1;t++}}return!0}for(var p=0;p<a.length;p++){for(var v=a[p],m=r.length-v.oldLines,g=0,y=f+v.oldStart-1,w=b(y,d,m);void 0!==g;g=w())if(h(v,y+g)){v.offset=f+=g;break}if(void 0===g)return!1;d=v.offset+v.oldStart+v.oldLines}for(var k=0,C=0;C<a.length;C++){var x=a[C],S=x.oldStart+x.offset+k-1;k+=x.newLines-x.oldLines,S<0&&(S=0);for(var E=0;E<x.lines.length;E++){var T=x.lines[E],L=T.length>0?T[0]:" ",F=T.length>0?T.substr(1):T,A=x.linedelimiters[E];if(" "===L)S++;else if("-"===L)r.splice(S,1),s.splice(S,1);else if("+"===L)r.splice(S,0,F),s.splice(S,0,A),S++;else if("\\"===L){var M=x.lines[E-1]?x.lines[E-1][0]:null;"+"===M?i=!0:"-"===M&&(o=!0)}}}if(i)for(;!r[r.length-1];)r.pop(),s.pop();else o&&(r.push(""),s.push("\n"));for(var O=0;O<r.length-1;O++)r[O]=r[O]+s[O];return r.join("")}function C(e,t,n,i,o,r,s){s||(s={}),void 0===s.context&&(s.context=4);var a=d(n,i,s);function u(e){return e.map((function(e){return" "+e}))}a.push({value:"",lines:[]});for(var c=[],l=0,f=0,h=[],p=1,m=1,g=function(e){var t=a[e],o=t.lines||t.value.replace(/\n$/,"").split("\n");if(t.lines=o,t.added||t.removed){var r;if(!l){var d=a[e-1];l=p,f=m,d&&(h=s.context>0?u(d.lines.slice(-s.context)):[],l-=h.length,f-=h.length)}(r=h).push.apply(r,v(o.map((function(e){return(t.added?"+":"-")+e})))),t.added?m+=o.length:p+=o.length}else{if(l)if(o.length<=2*s.context&&e<a.length-2){var g;(g=h).push.apply(g,v(u(o)))}else{var y,w=Math.min(o.length,s.context);(y=h).push.apply(y,v(u(o.slice(0,w))));var _={oldStart:l,oldLines:p-l+w,newStart:f,newLines:m-f+w,lines:h};if(e>=a.length-2&&o.length<=s.context){var b=/\n$/.test(n),k=/\n$/.test(i),C=0==o.length&&h.length>_.oldLines;!b&&C&&h.splice(_.oldLines,0,"\\ No newline at end of file"),(b||C)&&k||h.push("\\ No newline at end of file")}c.push(_),l=0,f=0,h=[]}p+=o.length,m+=o.length}},y=0;y<a.length;y++)g(y);return{oldFileName:e,newFileName:t,oldHeader:o,newHeader:r,hunks:c}}function x(e,t,n,i,o,r,s){var a=C(e,t,n,i,o,r,s),u=[];e==t&&u.push("Index: "+e),u.push("==================================================================="),u.push("--- "+a.oldFileName+(void 0===a.oldHeader?"":"\t"+a.oldHeader)),u.push("+++ "+a.newFileName+(void 0===a.newHeader?"":"\t"+a.newHeader));for(var c=0;c<a.hunks.length;c++){var l=a.hunks[c];u.push("@@ -"+l.oldStart+","+l.oldLines+" +"+l.newStart+","+l.newLines+" @@"),u.push.apply(u,l.lines)}return u.join("\n")+"\n"}function S(e,t){if(t.length>e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function E(e){var t=function e(t){var n=0,i=0;return t.forEach((function(t){if("string"!=typeof t){var o=e(t.mine),r=e(t.theirs);void 0!==n&&(o.oldLines===r.oldLines?n+=o.oldLines:n=void 0),void 0!==i&&(o.newLines===r.newLines?i+=o.newLines:i=void 0)}else void 0===i||"+"!==t[0]&&" "!==t[0]||i++,void 0===n||"-"!==t[0]&&" "!==t[0]||n++})),{oldLines:n,newLines:i}}(e.lines),n=t.oldLines,i=t.newLines;void 0!==n?e.oldLines=n:delete e.oldLines,void 0!==i?e.newLines=i:delete e.newLines}function T(e,t){if("string"==typeof e){if(/^@@/m.test(e)||/^Index:/m.test(e))return _(e)[0];if(!t)throw new Error("Must provide a base reference or pass in a patch");return C(void 0,void 0,t,e)}return e}function L(e){return e.newFileName&&e.newFileName!==e.oldFileName}function F(e,t,n){return t===n?t:(e.conflict=!0,{mine:t,theirs:n})}function A(e,t){return e.oldStart<t.oldStart&&e.oldStart+e.oldLines<t.oldStart}function M(e,t){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+t,newLines:e.newLines,lines:e.lines}}function O(e,t,n,i,o){var r={offset:t,lines:n,index:0},s={offset:i,lines:o,index:0};for($(e,r,s),$(e,s,r);r.index<r.lines.length&&s.index<s.lines.length;){var a=r.lines[r.index],u=s.lines[s.index];if("-"!==a[0]&&"+"!==a[0]||"-"!==u[0]&&"+"!==u[0])if("+"===a[0]&&" "===u[0]){var c;(c=e.lines).push.apply(c,v(R(r)))}else if("+"===u[0]&&" "===a[0]){var l;(l=e.lines).push.apply(l,v(R(s)))}else"-"===a[0]&&" "===u[0]?I(e,r,s):"-"===u[0]&&" "===a[0]?I(e,s,r,!0):a===u?(e.lines.push(a),r.index++,s.index++):P(e,R(r),R(s));else j(e,r,s)}N(e,r),N(e,s),E(e)}function j(e,t,n){var i,o,r=R(t),s=R(n);if(z(r)&&z(s)){var a,u;if(S(r,s)&&D(n,r,r.length-s.length))return void(a=e.lines).push.apply(a,v(r));if(S(s,r)&&D(t,s,s.length-r.length))return void(u=e.lines).push.apply(u,v(s))}else if(o=s,(i=r).length===o.length&&S(i,o)){var c;return void(c=e.lines).push.apply(c,v(r))}P(e,r,s)}function I(e,t,n,i){var o,r=R(t),s=function(e,t){for(var n=[],i=[],o=0,r=!1,s=!1;o<t.length&&e.index<e.lines.length;){var a=e.lines[e.index],u=t[o];if("+"===u[0])break;if(r=r||" "!==a[0],i.push(u),o++,"+"===a[0])for(s=!0;"+"===a[0];)n.push(a),a=e.lines[++e.index];u.substr(1)===a.substr(1)?(n.push(a),e.index++):s=!0}if("+"===(t[o]||"")[0]&&r&&(s=!0),s)return n;for(;o<t.length;)i.push(t[o++]);return{merged:i,changes:n}}(n,r);s.merged?(o=e.lines).push.apply(o,v(s.merged)):P(e,i?s:r,i?r:s)}function P(e,t,n){e.conflict=!0,e.lines.push({conflict:!0,mine:t,theirs:n})}function $(e,t,n){for(;t.offset<n.offset&&t.index<t.lines.length;){var i=t.lines[t.index++];e.lines.push(i),t.offset++}}function N(e,t){for(;t.index<t.lines.length;){var n=t.lines[t.index++];e.lines.push(n)}}function R(e){for(var t=[],n=e.lines[e.index][0];e.index<e.lines.length;){var i=e.lines[e.index];if("-"===n&&"+"===i[0]&&(n="+"),n!==i[0])break;t.push(i),e.index++}return t}function z(e){return e.reduce((function(e,t){return e&&"-"===t[0]}),!0)}function D(e,t,n){for(var i=0;i<n;i++){var o=t[t.length-n+i].substr(1);if(e.lines[e.index+i]!==" "+o)return!1}return e.index+=n,!0}w.tokenize=function(e){return e.slice()},w.join=w.removeEmpty=function(e){return e},e.Diff=t,e.diffChars=function(e,t,n){return o.diff(e,t,n)},e.diffWords=function(e,t,n){return n=r(n,{ignoreWhitespace:!0}),c.diff(e,t,n)},e.diffWordsWithSpace=function(e,t,n){return c.diff(e,t,n)},e.diffLines=d,e.diffTrimmedLines=function(e,t,n){var i=r(n,{ignoreWhitespace:!0});return l.diff(e,t,i)},e.diffSentences=function(e,t,n){return f.diff(e,t,n)},e.diffCss=function(e,t,n){return h.diff(e,t,n)},e.diffJson=function(e,t,n){return g.diff(e,t,n)},e.diffArrays=function(e,t,n){return w.diff(e,t,n)},e.structuredPatch=C,e.createTwoFilesPatch=x,e.createPatch=function(e,t,n,i,o,r){return x(e,e,t,n,i,o,r)},e.applyPatch=k,e.applyPatches=function(e,t){"string"==typeof e&&(e=_(e));var n=0;!function i(){var o=e[n++];if(!o)return t.complete();t.loadFile(o,(function(e,n){if(e)return t.complete(e);var r=k(n,o,t);t.patched(o,r,(function(e){if(e)return t.complete(e);i()}))}))}()},e.parsePatch=_,e.merge=function(e,t,n){e=T(e,n),t=T(t,n);var i={};(e.index||t.index)&&(i.index=e.index||t.index),(e.newFileName||t.newFileName)&&(L(e)?L(t)?(i.oldFileName=F(i,e.oldFileName,t.oldFileName),i.newFileName=F(i,e.newFileName,t.newFileName),i.oldHeader=F(i,e.oldHeader,t.oldHeader),i.newHeader=F(i,e.newHeader,t.newHeader)):(i.oldFileName=e.oldFileName,i.newFileName=e.newFileName,i.oldHeader=e.oldHeader,i.newHeader=e.newHeader):(i.oldFileName=t.oldFileName||e.oldFileName,i.newFileName=t.newFileName||e.newFileName,i.oldHeader=t.oldHeader||e.oldHeader,i.newHeader=t.newHeader||e.newHeader)),i.hunks=[];for(var o=0,r=0,s=0,a=0;o<e.hunks.length||r<t.hunks.length;){var u=e.hunks[o]||{oldStart:1/0},c=t.hunks[r]||{oldStart:1/0};if(A(u,c))i.hunks.push(M(u,s)),o++,a+=u.newLines-u.oldLines;else if(A(c,u))i.hunks.push(M(c,a)),r++,s+=c.newLines-c.oldLines;else{var l={oldStart:Math.min(u.oldStart,c.oldStart),oldLines:0,newStart:Math.min(u.newStart+s,c.oldStart+a),newLines:0,lines:[]};O(l,u.oldStart,u.lines,c.oldStart,c.lines),r++,o++,i.hunks.push(l)}}return i},e.convertChangesToDMP=function(e){for(var t,n,i=[],o=0;o<e.length;o++)n=(t=e[o]).added?1:t.removed?-1:0,i.push([n,t.value]);return i},e.convertChangesToXML=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];i.added?t.push("<ins>"):i.removed&&t.push("<del>"),t.push((o=i.value,void 0,o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"))),i.added?t.push("</ins>"):i.removed&&t.push("</del>")}var o;return t.join("")},e.canonicalize=y,Object.defineProperty(e,"__esModule",{value:!0})},"object"===a(t)&&void 0!==e?s(t):(o=[t],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},411:function(e,t,n){"use strict";var i=window.Element.prototype;i.matches||(i.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),i.closest||(i.closest=function(e){var t=this;if(!document.documentElement.contains(this))return null;do{if(t.matches(e))return t;t=t.parentElement}while(null!==t);return null})},412:function(e,t,n){"use strict";e.exports="1.0.2"},59:function(e,t){e.exports={express:{serve:{routes:{task:"/courses/:courseId/run/:taskId",check:null,statistics:"http://localhost:6401/statistics"}}},timeout:{task:5e3,challenge:5e3,poll:5e3,timerDefault:1e3,updateCode:1e3,autosaveCode:3e3,typeInterval:130}}},610:function(e,t,n){"use strict";var i=n(68);i((function(){var e=n(611);window.HtmlacademyTask=e(),window.HtmlacademyTask.errorNotifier=i}),(function(){window.HtmlacademyTask={setup:function(){}}}))},611:function(e,t,n){"use strict";var i=n(612),o=n(381),r=n(382),s=n(383),a=n(399),u=n(400),c=n(401),l=n(402),d=n(403),f=n(363),h=n(364);var p,v,m=n(404),g=n(405),y=n(8),w=n(407);p=n(408),v=p(),n(411);var _=r(),b=n(412);e.exports=function(){var e={version:b,code:null,container:null,dispatcher:null,complete:!1,pause:!1,view:null,runner:null,checker:null,setRoutes:function(e){this._routes=e},getRoutes:function(){return this._routes},setup:function(t){var n;console.log("HtmlacademyTask.version = ".concat(b)),"function"==typeof this.errorNotifier?this.errorNotifier((function(){t.call(e)})):t.call(this),(n=window.HtmlacademyBootstrap)&&"function"==typeof n.destroy&&n.destroy(),this._linkChildrenProperties(),this._visitChildrenWithEventDispatcher(),_.on("code.changed",this._runUnlessPaused,this),_.on("run.manual",this._run,this),_.on("run.reload",this._reload,this),_.on("toggle.autorun",this._setAutorun,this),_.on("movie.finished",this._run,this),_.on("first.theory.close",this._run,this),_.on("task.set-complete",this._setComplete,this),_.on("task.complete",this._getAchivements,this),_.on("bonus-goal.complete",this._bonusGoalComplete,this),_.on("server-check.request",this._serverCheck,this),this._runViewCallback(),this.autorunDisabled&&this.ui.setAutorun(!1);_.emit("setup.finished",e.code),e._setupHtmlClass()},reloadPreview:function(){_.emit("run.reload")},i18n:function(e){return h(this.__i18n,e)||{}},_hideLoader:function(){var e=document.querySelector(".course-loading-overlay");e&&e.parentElement&&e.parentElement.removeChild(e)},setupAssets:function(e){_.emit("setup.assets",e)},setView:function(e,t){this._addChild(e,"view")&&"function"==typeof t&&(this._viewCallback=t)},setRunner:function(e,t){var n=this._addChild(e,"runner","wrapper.runner");n&&"function"==typeof t&&t.call(n,n)},setChecker:function(e,t){var n=this._addChild(e,"checker");n&&"function"==typeof t&&t.call(n,n)},setAnswers:function(e){this._addChild(s,"answers").setAnswers(e)},disableAutorun:function(){this.autorunDisabled=!0},_runViewCallback:function(){this._viewCallback&&this._viewCallback.call(this.view,this.view)},_initialize:function(){this.container=o(),this._addChild(w(f()),"keyStorage","wrapper.storage"),this._addChild(a,"ui","model.ui"),this._addChild(i,"code","model.code"),this._addChild(m,"userSettings","wrapper.settings"),this._addChild(g,"timers"),this._addChild(l,"modalStack"),this._addChild(u,"modalView","view.modal"),this._addChild(c,"navView"),this._addChild(d,"browserModal","view.browser-modal"),this._addChild(v,"statistics","wrapper.statistics"),this.ui.setAutorun(this._earlyLoadingAutorun())},_earlyLoadingAutorun:function(){var e=this.keyStorage.get("ui.autorun");return null===e||"true"===e},_addChild:function(e,t,n){var i=e;return"function"==typeof i&&(i=i()),i&&(t&&(this[t]=i),n&&this.container.register(n,i),this._generatedChildren||(this._generatedChildren=[]),this._generatedChildren.push(i)),i},_visitChildrenWithEventDispatcher:function(){this._generatedChildren.forEach((function(e){"function"==typeof e.visitEventDispatcher&&e.visitEventDispatcher(_)})),this.answers&&_.emit("task.has.answers"),window.addEventListener("unload",(function(){_.emit("task.unload")}))},_linkChildrenProperties:function(){this._generatedChildren.forEach((function(t){"function"==typeof t.linkProperties&&t.linkProperties(e.container)}))},_setAutorun:function(e){e&&this._run()},_runUnlessPaused:function(){var e=this.ui;_.emit("validator.reset"),_.emit("annotations.generate"),e.allowToRun()?this._run():this._preprocess()},_run:function(e){if(void 0===e&&(e={changes:!0}),this.runner&&e.changes){var t=this.runner,n=this.code.asJSON();if(_.emit("validator.reset"),e.changes){var i;try{i=t.getDocument()}catch(o){}i&&"text/html"===i.contentType?t.run(n):_.emit("run.reload")}}},_preprocess:function(){if(this.runner){var e=this.runner,t=this.code.asJSON();"function"==typeof e.preprocess&&e.preprocess(t)}},_reload:function(){var e=this.runner;e&&("function"==typeof e.reload&&e.reload(),_.emit("validator.reset"),e.run(this.code.asJSON()))},_getAchivements:function(){var t=this.userSettings;!e.checkedForAchievements&&t.userId&&window.Achievements&&(e.checkedForAchievements=!0,setTimeout((function(){window.Achievements.check()}),1e3))},_setComplete:function(){var t=this.userSettings.taskId,n=this.ui.isAnsweringTriggered;this.complete||y.post(window.location.href,{data:{task_id:t,completed:1,is_answering_triggered:n},success:function(){e.complete||(e.complete=!0,_.emit("task.complete"),window.postMessage("task.complete"))}})},_bonusGoalComplete:function(){var e=this.userSettings.taskId;y.post(window.location.href,{data:{task_id:e,bonus_completed:1}})},_serverCheck:function(){this.checker.serverCheck(this.code.asJSON())},_setupHtmlClass:function(){var e=document.querySelector("html");e.classList.remove("no-js"),e.classList.add("js")}};return e._initialize(),e.__i18n={task:{feedback:{button_title:"  ",title:"   ?",thanks:"!   )",send:"",back:"",next:"",message_placeholder:",    ",problem:{check_doesnt_work:"   ",too_hard:"  ",unclear_theory:" ",other:" ( )"}},files:{all:" "},notice:{close:""},autorun:{title:""},console:{title:"",toggle:" ",call_the_boss:",  !",result:" "},goals:{title:"",complete:" 0  x"},editor_tabs:{split_tooltip:"-",remove_split:" ",to_left:"",to_right:""},editor_controls:{save_code:" ",reset_code:" ",show_answer:" ",server_check:"  ",save_code_done:"  ",reset_code_done:"  "},loading:{process:" ",default_title:"",default_subtitle:"     "},navigation:{previous_task:" ",next_task:" ",task_list:"   "},results:{failed_preload:"   .  .",info:"<p><b></b>  ,    .</p> <p><b></b>  ,      .\n     ,   -.\n        .</p>\n<p><b></b>      .</p> <p><b></b>       .</p>\n",initial:'        .    <span class="course-browser__results-initial-alert">  </span>.\n',preload:" ",tabs:{solution:"",attempt:"",overlay:"",diff:"",info:""}},progress:{compare:""},restriction:{comeback_tomorrow:",  "},reload:{run:"",refresh:""},timeout:{default_message:"    ,   "},theory:{title:"",close:"",video:"",title_and_video:"  ",go_to_task:"  ",default_banner:'<span>      .     <a href="/"></a>,    .</span>\n'},zoom:{enlarge:"",shrink:""}},wrappers:{xhr:{err_connection:"  .  .",err_server:"    $1"},answers:{no_answers:"  ",no_movie:"     aceEditorMovie"},console:{plot_parameters:" keks.plot    ",too_many_messages:"  "},commenting:{tag_line:" ",task_line:" "},validate_html:{wrong_doctype:"  <code>DOCTYPE</code>",doctype_not_found:"  <code>&lt;!DOCTYPE html&gt;</code>",invalid_syntax:" ",mismatch_tags:"    `$1`    `$2`"},validate_css:{"Attribute selector (=, ~=, ^=, $=, *=, |=) is expected":"    (=, ~=, ^=, $=, *=, |=)","Identifier is expected but function found":" ,   ","Number, dimension, ratio or identifier is expected":" , ,   ","EqualsSign is expected":"  ","Vertical line is expected":"  ","Selector is expected":" ","LeftCurlyBracket is expected":"   ",default:" ",unknown_property:"  `$1`",property_syntax:"   ",no_open_tag:"    `$1`"},validate_js:{default:" "},validate_php:{"the end of file (EOF)":"  (EOF)",EXPR:"",VARIABLE:"",syntax_error:" . : `$1`, : `$2`",cannot_parse:"    ,  "},build_php:{syntax_error:"   .      .",timeout_error:"   PIB"}},views:{theory:{hide_spoiler:" ",show_spoiler:" "},show_answers:{start:" ",interrupt:" "},expand_browser:{expand:"  ",back:" "},goals:{expand:"   ",collapse:"  ",solved:" $1  $2"},progress_bar:{previous:"  .",cold:" .   !",warm:" . !",good:" . !",solved:" $1 %.",order:"$1% $2"},check_message:{timeout:"    .  .",unavailable:"  "},autorun:{turn_off:" ",turn_on:" ",is_on:" ",is_off:" "},server_check:{check:"  ",checking:""},js_console:{syntax_error:" .  $1,  $2",var_not_defined:" $1 ",call_the_boss:",  !"},challenge_server_check:{check:"",checking:"",no_attempts:" ",attempts:{one:"",few:"",many:""}},validation_view:{no_attempts_message:' .    <a href="/pricing"> </a>,    .'},browser_modal:{external_page:"    ",return_back:"  ",code_changed:" ,     .",js_changed:" ,     .",reload:"",run:""},browser_zoomer:{error_happened:" ",error:{resources:{error_description:"-      ,      "}}},goals_annotation_view:{line:""}},asserts:{javascript_asserts:{could_not_initialize:"   ",messages_success:"   ",messages_failure:"   ",exact_messages_success:"     ",exact_messages_failure:"        ",var_not_defined:" $1 .",equal:"  `$1`  `$2`   .",not_equal:"  `$1`  `$2`    `$3`.",not_equal_hidden:"  `$1`  `$2`    (  )",success_fn_call:"   `$1`  `$2`     ",failure_fn_call:"  `$1`  `$2`      "},equal_frames_assert:{no_var_in_solution:"        $1",could_not_initialize:"   ",test_succeed:" ",test_failed:"  "}},checkers:{html_css_iframe_challenge:{task_complete:" ",solved_count:" : $1, : $2"},js_challenge_checker:{task_complete:" ",solved_count:" : $1, : $2",invalid_code:"       ."}},models:{keks:{message_default:"--  ",message_call:"  ",message_meow:"-?",message_page_not_found:"   ",message_page_no:"  $1"}}},e}},612:function(e,t,n){"use strict";var i=n(86),o=n(266);e.exports=function(){var e=0;return{visitEventDispatcher:function(e){e.on("code.update",this.set,this)},set:function(t){var n=this;o.forEach((function(e){"string"==typeof t[e]&&(this[e]=t[e])}),this),e++,"undefined"!=typeof Sentry&&"function"==typeof Sentry.configureScope&&Sentry.configureScope((function(e){return e.setExtra("code",n.asJSON())}))},asJSON:function(){var e={};return o.forEach((function(t){"string"==typeof this[t]&&(e[t]=this[t])}),this),e},getHash:function(){var e=JSON.stringify(this);return i(e)},checkIsInitial:function(){return 1===e}}}},65:function(e,t,n){function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}e.exports=function(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return o.colors[Math.abs(t)%o.colors.length]}function o(e){var n;function i(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(i.enabled){var s=i,a=Number(new Date),u=a-(n||a);s.diff=u,s.prev=n,s.curr=a,n=a,t[0]=o.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return e;c++;var i=o.formatters[n];if("function"==typeof i){var r=t[c];e=i.call(s,r),t.splice(c,1),c--}return e})),o.formatArgs.call(s,t);var l=s.log||o.log;l.apply(s,t)}}return i.namespace=e,i.enabled=o.enabled(e),i.useColors=o.useColors(),i.color=t(e),i.destroy=r,i.extend=s,"function"==typeof o.init&&o.init(i),o.instances.push(i),i}function r(){var e=o.instances.indexOf(this);return-1!==e&&(o.instances.splice(e,1),!0)}function s(e,t){var n=o(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function a(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return o.debug=o,o.default=o,o.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},o.disable=function(){var e=[].concat(i(o.names.map(a)),i(o.skips.map(a).map((function(e){return"-"+e})))).join(",");return o.enable(""),e},o.enable=function(e){var t;o.save(e),o.names=[],o.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?o.skips.push(new RegExp("^"+e.substr(1)+"$")):o.names.push(new RegExp("^"+e+"$")));for(t=0;t<o.instances.length;t++){var r=o.instances[t];r.enabled=o.enabled(r.namespace)}},o.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=o.skips.length;t<n;t++)if(o.skips[t].test(e))return!1;for(t=0,n=o.names.length;t<n;t++)if(o.names[t].test(e))return!0;return!1},o.humanize=n(66),Object.keys(e).forEach((function(t){o[t]=e[t]})),o.instances=[],o.names=[],o.skips=[],o.formatters={},o.selectColor=t,o.enable(o.load()),o}},66:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=1e3,o=6e4,r=36e5,s=24*r;function a(e,t,n,i){var o=t>=1.5*n;return Math.round(e/n)+" "+i+(o?"s":"")}e.exports=function(e,t){t=t||{};var u=n(e);if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return n*s;case"hours":case"hour":case"hrs":case"hr":case"h":return n*r;case"minutes":case"minute":case"mins":case"min":case"m":return n*o;case"seconds":case"second":case"secs":case"sec":case"s":return n*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===u&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=s)return a(e,t,s,"day");if(t>=r)return a(e,t,r,"hour");if(t>=o)return a(e,t,o,"minute");if(t>=i)return a(e,t,i,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=s)return Math.round(e/s)+"d";if(t>=r)return Math.round(e/r)+"h";if(t>=o)return Math.round(e/o)+"m";if(t>=i)return Math.round(e/i)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},68:function(e,t,n){"use strict";var i=document.body;e.exports=function(e,t){var n,o=document.querySelector(".js--initialization-error"),r=(o&&o.querySelector(".js--initialization-error__content"),i.classList.contains("initialization-error")&&i.dataset.error);if(r)Sentry.captureMessage("HTMLAcademy error notifier catched error: "+r),"function"==typeof t&&t();else try{e()}catch(s){Sentry&&"function"==typeof Sentry.captureException&&Sentry.captureException(s),n=s.toString(),i.classList.add("initialization-error"),i.dataset.error=n}}},69:function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=null,r=function(e){var t;return o||(o=e||Object.assign({},function(){var e,t=n(1);try{e=t.express.serve.routes}catch(i){e={}}return e}(),(t={},"object"===("undefined"==typeof HtmlacademyTask?"undefined":i(HtmlacademyTask))&&"function"==typeof HtmlacademyTask.getRoutes&&(t=HtmlacademyTask.getRoutes()||{}),t))),o},s=function(e){for(var t={},n=r().task,i=e.split("/"),o=n.split("/"),s=0;s<i.length;s++)o[s].startsWith(":")&&(t[o[s].substr(1)]=i[s]);return t};e.exports=function(e,t){var n=function(){return e||window.location.pathname};return{getSourceRoute:n,getServerCheckRoute:function(){var e=n(),i=r(t);if(null===i.check)return e;var o=s(e);return function(e,t){for(var n=e.split("/"),i=0;i<n.length;i++)if(n[i].startsWith(":")){var o=n[i].substr(1);t[o]&&(n[i]=t[o])}return n.join("/")}(i.check,o)},getAssetsRoute:function(){return(document.body.dataset||{}).base},getParams:function(){return s(n())}}}},8:function(e,t,n){"use strict";var i=n(2),o=function(){},r=n(1),s=n(17).get,a=function(e,t,n){var i=new XMLHttpRequest;return i.open(t,e,!0),void 0===n&&(n={}),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(n).forEach((function(e){i.setRequestHeader(e,n[e])})),i},u=function(e){var t=new URL(e);return r.dev&&r.dev.host&&t.host===r.dev.host&&(t.host=r.dev.replacementHost,t.port=r.dev.port),t.href},c=function(e,t){var n=HtmlacademyTask.i18n("wrappers.xhr");return function(){var o,r;if(this.readyState===XMLHttpRequest.DONE)try{r=this.response,o=JSON.parse(r),"function"==typeof e&&e(o)}catch(u){var s=this.status,a=u.toString();""===r&&0===s?a=n.err_connection:a.includes("SyntaxError")&&(a=i(n.err_server,r.substr(0,40))),"function"==typeof t&&t({status:"ERROR",httpStatus:s,message:a})}}};e.exports={post:function(e,t){var n=function(e){return Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}(Object.assign({token:s()},t.data||{})),i=a(e,"POST",{"Content-Type":"application/x-www-form-urlencoded"});i.onreadystatechange=c(t.success,t.error),i.send(n)},json:function(e,t){var n=Object.assign({token:s()},t.data||{}),i=JSON.stringify(n),o=a(u(e),"POST",{"Content-Type":"application/json; charset=utf-8"});o.onreadystatechange=c(t.success,t.error),o.send(i)},getJSON:function(e,t){var n=a(u(e),"GET");n.onreadystatechange=c(t.success,t.error),n.send()},get:function(e,t){var n=a(u(e),"GET");t||(t=o),n.onreadystatechange=function(){this.readyState===XMLHttpRequest.DONE&&this.response.length>0&&t(this.response)},n.send()}}},86:function(e,t,n){"use strict";e.exports=function(e){for(var t=0,n=e.length,i=0;i<n;++i)t=31*t+e.charCodeAt(i),t&=t;return t}}});